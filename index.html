<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- YOUR SAME CSS AS BEFORE ‚Äî DO NOT CHANGE ANYTHING -->
  <style>
    /* ‚¨áÔ∏è Copy your original CSS here EXACTLY as it was */
  </style>
</head>

<body>

<script>
  // REDIRECT IF NOT LOGGED IN
  const token = localStorage.getItem("token");
  if (!token) {
    window.location = "login.html";
  }
</script>

<!-- üî• YOUR ENTIRE ORIGINAL HTML CONTENT HERE
     EXACTLY AS YOU SENT IT
     NO CHANGES
-->

<!-- Example (not full, you paste your real content): -->
<div class="container">
  <h1 class="title">üëëABOU AMJADüëë</h1>
  <input type="text" id="scanInput" class="scan-input" placeholder="Scan QR Code Here" autofocus>
  <button onclick="submitScan()" class="submit-btn">Submit Scan</button>

  <div class="logs-container">
    <div class="logs-header">Scan Logs</div>
    <div id="logs"></div>
  </div>
</div>

<!-- üî• Add token to backend requests -->
<script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyrScJh7k84wwIpEAr4MqSrnsyvPBMp3BYhPpM1hPyG_V7RPBPtQ_um3YYcCw0JLmc/exec";
  const tokenValue = localStorage.getItem("token");

  async function submitScan() {
    const input = document.getElementById("scanInput");
    const data = input.value.trim();
    if (!data) return;

    addLogItem(data, "Loading description...");
    input.value = "";
    input.focus();

    const description = await fetch(`${SCRIPT_URL}?action=getDescription&scanData=${data}&token=${tokenValue}`).then(r => r.text());
    updateLastLogDescription(description);

    await fetch(`${SCRIPT_URL}?scanData=${data}&token=${tokenValue}`);
  }

  // ‚¨áÔ∏è Keep rest of your original script EXACTLY as it is
</script>

</body>
</html>
